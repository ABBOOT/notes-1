## 一、简介

`GROUP_CONTACT`方法返回一个字符串结果，该结果由分组中的值连接组合而成。

> 注意：该方法的使用需要结合`GROUP BY`子句，否则会将所有的查询结果作为一个分组，最终返回所有结果中相应字段连接组成的字符串。

### 1.1 语法

```sql
GROUP_CONTACT([DISTINCT] <field> [, <field> ...] [ORDER BY ASC/DESC 排序字段] [SEPARATOR '分隔符'])
```

### 1.2 参数

该方法必须需要一个或多个要连接的字段的名称。还可以添加其他的限制条件：

* DISTINCT  将最终的结果去重之后再连接。
* ORDER BY  将结果排序之后再连接。
* SEPARATOR 使用指定的分隔符来连接结果。缺省为一个逗号(`,`)，可以通过指定`SEPARATOR ""`完全地移除这个分隔符。

## 二、使用示例

有如下数据格式的表格 aa：

  id   |  name
------ | ------
   1   |  10
   1   |  20
   1   |  20
   2   |  20
   3   |  30
   3   |  50

### 2.1 合并字段在一起

以 id 分组，把 name 字段的值打印在一行，并用逗号分隔(默认)：

```sql
SELECT id, GROUP_CONCAT(name) FROM aa GROUP BY id;
```

输出结果如下：

```
+------+------------------+
| id | group_concat(name) |
+----+--------------------+
| 1  | 10,20,20           |
| 2  | 20                 |
| 3  | 30,50              |
+----+--------------------+
```

### 2.2 更改分隔符

以 id 分组，把 name 字段的值打印在一行，用分号分隔：

```sql
SELECT id, GROUP_CONCAT(name SEPARATOR ';') FROM aa GROUP BY id;
```

输出结果如下：

```
+------+--------------------------------+
| id | group_concat(name separator ';') |
+----+----------------------------------+
| 1  | 10;20;20                         |
| 2  | 20                               |
| 3  | 30;50                            |
+----+----------------------------------+
```

### 2.3 去除冗余值

以 id 分组，把去冗余后的 name 字段的值打印在一行：

```sql
SELECT id, GROUP_CONCAT(DISTINCT name) FROM aa GROUP BY id;
```

输出结果如下：

```
+------+---------------------------+
| id | group_concat(distinct name) |
+----+-----------------------------+
| 1  | 10,20                       |
| 2  | 20                          |
| 3  | 30,50                       |
+----+-----------------------------+
```

### 2.4 排序后合并在一起

以 id 分组，把 name 字段的值打印在一行，并以 name 字段倒序排序：

```sql
SELECT id, GROUP_CONCAT(name ORDER BY name DESC) FROM aa GROUP BY id;
```

输出结果如下：

```
+------+-------------------------------------+
| id | group_concat(name order by name desc) |
+----+---------------------------------------+
| 1  | 20;20;10                              |
| 2  | 20                                    |
| 3  | 50;30                                 |
+----+---------------------------------------+
```

